[gd_scene load_steps=25 format=3 uid="uid://hqdryxc766fs"]

[ext_resource type="Theme" uid="uid://c4tnmjnv1swxg" path="res://resources/ui/main_theme.tres" id="1_klgdb"]
[ext_resource type="Script" uid="uid://ciepjgslvoe36" path="res://scenes/menu/menu_controller.gd" id="2_e0arn"]
[ext_resource type="Theme" uid="uid://7vvxi1od5y83" path="res://resources/ui/button.tres" id="2_mcvr8"]
[ext_resource type="Texture2D" uid="uid://cyhca3xtrxo2c" path="res://assets/textures/menu.png" id="3_f2fum"]
[ext_resource type="AudioStream" uid="uid://45seydecif80" path="res://assets/sounds/shapeforms/WHOOSH_AIRY_FLUTTER_01.wav" id="3_k48pe"]
[ext_resource type="Shader" uid="uid://cctgygvowewya" path="res://resources/shaders/menu.gdshader" id="3_kaijy"]
[ext_resource type="AudioStream" uid="uid://bksx4qer1bjb6" path="res://assets/sounds/shapeforms/Tablet_Tap_07.wav" id="4_k48pe"]
[ext_resource type="AudioStream" uid="uid://dcj5q48alcc57" path="res://assets/sounds/kenney/click2.ogg" id="5_f2fum"]
[ext_resource type="Texture2D" uid="uid://dok5bkbseihh8" path="res://assets/textures/menu2.png" id="5_rcuxh"]
[ext_resource type="AudioStream" uid="uid://ccl48un6bn75c" path="res://assets/sounds/shapeforms/PC Keyboard_Keystroke_28.wav" id="6_kaijy"]
[ext_resource type="AudioStream" uid="uid://bypm53seyi7wx" path="res://assets/sounds/shapeforms/BUTTON_05.wav" id="7_y4i35"]
[ext_resource type="AudioStream" uid="uid://dvhxue4u72134" path="res://assets/sounds/town04.wav" id="10_y4i35"]
[ext_resource type="PackedScene" uid="uid://dxlupbpywxun7" path="res://scenes/menu/settings.tscn" id="11_f2fum"]
[ext_resource type="Script" uid="uid://cx2eqddx6y6uu" path="res://scenes/menu/creds.gd" id="12_kaijy"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_y4i35"]
shader = ExtResource("3_kaijy")
shader_parameter/progress = 0.4970000236075
shader_parameter/width = 0.02669999932449
shader_parameter/feather = 0.4290000203775
shader_parameter/up = Color(0.62722665, 0.61060005, 0.86, 0.13333334)
shader_parameter/bottom = Color(1, 0.53800005, 0.23000002, 0.10980392)

[sub_resource type="AnimatedTexture" id="AnimatedTexture_64m6r"]
frames = 2
frame_0/texture = ExtResource("3_f2fum")
frame_1/texture = ExtResource("5_rcuxh")
frame_1/duration = 1.0

[sub_resource type="Animation" id="Animation_r8yej"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CURRENT:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("NEXT:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("NEXT:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CURRENT:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_y1o0p"]
resource_name = "next"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CURRENT:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, 0, 0, 0.2, -100, -200, -0.3, -44, 0, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("NEXT:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(200, 0, 0, 0.2, -100, 0, -0.3, -44, 0, 0),
"times": PackedFloat32Array(0, 0.5)
}

[sub_resource type="Animation" id="Animation_3y2rt"]
resource_name = "swap"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CURRENT:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, 0, 0, 0.2, 100, -200, -0.3, 44, 0, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("NEXT:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-200, 0, 0, 0.2, 100, 0, -0.3, 44, 0, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("NEXT:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.16666667, 0.36666667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0.1, 0.1, 0.1, 1), Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CURRENT:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.19999999),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0.1, 0.1, 0.1, 1)]
}
tracks/4/type = "method"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"detach"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_r8yej"]
_data = {
&"RESET": SubResource("Animation_r8yej"),
&"next": SubResource("Animation_y1o0p"),
&"swap": SubResource("Animation_3y2rt")
}

[sub_resource type="Gradient" id="Gradient_rqcjd"]
offsets = PackedFloat32Array(0.23376623, 1)
colors = PackedColorArray(0, 0, 0, 0.87058824, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_dxr1k"]
gradient = SubResource("Gradient_rqcjd")
height = 24
fill_from = Vector2(1, 0)
fill_to = Vector2(1, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rcuxh"]
bg_color = Color(0, 0, 0, 0.4862745)

[sub_resource type="Theme" id="Theme_64m6r"]
Panel/styles/panel = SubResource("StyleBoxFlat_rcuxh")

[node name="Menu" type="Control" node_paths=PackedStringArray("main_screen", "settings_screen", "creds_screen", "current_root", "next_root", "player")]
process_mode = 3
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -600.0
offset_bottom = -450.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(4, 4)
theme = ExtResource("1_klgdb")
script = ExtResource("2_e0arn")
main_screen = NodePath("Main")
settings_screen = NodePath("Settings")
creds_screen = NodePath("Creds")
current_root = NodePath("CURRENT")
next_root = NodePath("NEXT")
player = NodePath("SwapPlayer")

[node name="TextureRect" type="TextureRect" parent="."]
material = SubResource("ShaderMaterial_y4i35")
layout_mode = 0
offset_right = 200.0
offset_bottom = 150.0
texture = SubResource("AnimatedTexture_64m6r")

[node name="SwapPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_r8yej")
}

[node name="Sounds" type="Node" parent="."]

[node name="Swap" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("3_k48pe")
volume_db = -28.363
mix_target = 2
bus = &"UI"

[node name="Hover" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("4_k48pe")
volume_db = -11.886
bus = &"UI"

[node name="Unhover" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("5_f2fum")
volume_db = -24.477
bus = &"UI"

[node name="Pressed" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("6_kaijy")
volume_db = -31.335
pitch_scale = 1.38
bus = &"UI"

[node name="Released" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("7_y4i35")
volume_db = -37.278
pitch_scale = 1.27
bus = &"UI"

[node name="Music" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("10_y4i35")
volume_db = -27.145

[node name="Main" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HBoxContainer" type="HBoxContainer" parent="Main"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -52.0
offset_right = 72.0
offset_bottom = 52.0
grow_vertical = 2

[node name="Control" type="Control" parent="Main/HBoxContainer"]
custom_minimum_size = Vector2(3.2, 0)
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Main/HBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 2
alignment = 1

[node name="RichTextLabel" type="RichTextLabel" parent="Main/HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(72, 24)
layout_mode = 2
size_flags_vertical = 4
theme_override_colors/font_shadow_color = Color(0.1148968, 0.11489681, 0.1148968, 1)
theme_override_constants/shadow_outline_size = 0
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
theme_override_font_sizes/normal_font_size = 32
bbcode_enabled = true
text = "[wave amp=30.0 freq=5.0][color=ORANGE]CLOCat"
fit_content = true
scroll_active = false
autowrap_trim_flags = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="Control" type="Control" parent="Main/HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 5)
layout_mode = 2

[node name="play" type="Button" parent="Main/HBoxContainer/VBoxContainer" groups=["ui_button"]]
layout_mode = 2
mouse_default_cursor_shape = 2
theme = ExtResource("2_mcvr8")
text = "играть"

[node name="settings" type="Button" parent="Main/HBoxContainer/VBoxContainer" groups=["ui_button"]]
layout_mode = 2
mouse_default_cursor_shape = 2
theme = ExtResource("2_mcvr8")
text = "настройки"

[node name="cred" type="Button" parent="Main/HBoxContainer/VBoxContainer" groups=["ui_button"]]
layout_mode = 2
mouse_default_cursor_shape = 2
theme = ExtResource("2_mcvr8")
text = "используем"

[node name="exit" type="Button" parent="Main/HBoxContainer/VBoxContainer" groups=["ui_button"]]
layout_mode = 2
mouse_default_cursor_shape = 2
theme = ExtResource("2_mcvr8")
text = "выйти"

[node name="Plus" type="RichTextLabel" parent="Main"]
custom_minimum_size = Vector2(72, 24)
layout_mode = 0
offset_left = 37.75
offset_top = 29.75
offset_right = 109.75
offset_bottom = 55.75
size_flags_vertical = 4
mouse_filter = 2
theme_override_colors/font_shadow_color = Color(0.1148968, 0.11489681, 0.1148968, 1)
theme_override_constants/shadow_outline_size = 0
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
theme_override_font_sizes/normal_font_size = 16
bbcode_enabled = true
text = "[wave amp=10.0 freq=5.0][rainbow]plus"
fit_content = true
scroll_active = false
autowrap_trim_flags = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="CURRENT" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -6.1035156e-05
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="NEXT" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Settings" parent="." instance=ExtResource("11_f2fum")]
visible = false
layout_mode = 1
offset_right = 0.0
offset_bottom = 0.0

[node name="Creds" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_klgdb")
script = ExtResource("12_kaijy")

[node name="VBoxContainer" type="VBoxContainer" parent="Creds"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 6.0
offset_right = -8.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
theme_override_constants/separation = 2
alignment = 1

[node name="ScrollContainer" type="ScrollContainer" parent="Creds/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="VBoxContainer" type="VBoxContainer" parent="Creds/VBoxContainer/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 2
alignment = 1

[node name="Control" type="Control" parent="Creds/VBoxContainer/ScrollContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 28)
layout_mode = 2

[node name="Label" type="Label" parent="Creds/VBoxContainer/ScrollContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 32)
layout_mode = 2
size_flags_horizontal = 4
text = "< Звук >"
vertical_alignment = 1

[node name="Template" type="RichTextLabel" parent="Creds/VBoxContainer/ScrollContainer/VBoxContainer"]
layout_mode = 2
bbcode_enabled = true
text = "[color=gray]- [color=white][wave]template[/wave] [color=blue][url=https://aboba.com]link[/url]"
fit_content = true

[node name="Label" type="RichTextLabel" parent="Creds"]
z_index = 1
layout_mode = 0
offset_right = 200.0
offset_bottom = 26.0
size_flags_vertical = 4
theme_override_colors/font_shadow_color = Color(0.11372549, 0.11372549, 0.11372549, 1)
theme_override_constants/shadow_outline_size = 0
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
bbcode_enabled = true
text = "[wave amp=30.0 freq=5.0][rainbow freq=0.25]Используемые Ассеты"
fit_content = true
scroll_active = false
autowrap_trim_flags = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="TextureRect" type="TextureRect" parent="Creds/Label"]
z_index = -1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("GradientTexture2D_dxr1k")

[node name="CenterContainer" type="CenterContainer" parent="Creds/Label"]
layout_mode = 0
offset_right = 32.0
offset_bottom = 32.0

[node name="exit" type="Button" parent="Creds/Label/CenterContainer" groups=["ui_button"]]
z_index = 2
z_as_relative = false
custom_minimum_size = Vector2(19, 0)
layout_mode = 2
mouse_default_cursor_shape = 2
theme = ExtResource("2_mcvr8")
text = "<"

[node name="Touch" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme = SubResource("Theme_64m6r")

[node name="ColorRect" type="ColorRect" parent="Touch"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.6509804)

[node name="VBoxContainer" type="VBoxContainer" parent="Touch"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -36.0
offset_top = -58.5
offset_right = 36.0
offset_bottom = 58.5
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 2
alignment = 1

[node name="Label" type="RichTextLabel" parent="Touch/VBoxContainer"]
z_index = 1
layout_mode = 2
size_flags_vertical = 4
theme_override_colors/font_shadow_color = Color(0.11372549, 0.11372549, 0.11372549, 1)
theme_override_constants/shadow_outline_size = 0
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
bbcode_enabled = true
text = "Включить управление касанием?"
fit_content = true
scroll_active = false
autowrap_trim_flags = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="yes" type="Button" parent="Touch/VBoxContainer" groups=["ui_button"]]
layout_mode = 2
mouse_default_cursor_shape = 2
theme = ExtResource("2_mcvr8")
text = "Да"

[node name="no" type="Button" parent="Touch/VBoxContainer" groups=["ui_button"]]
layout_mode = 2
mouse_default_cursor_shape = 2
theme = ExtResource("2_mcvr8")
text = "Нет"

[node name="Label" type="Label" parent="."]
layout_mode = 0
offset_left = 175.5
offset_top = 138.0
offset_right = 215.5
offset_bottom = 151.0
theme_override_colors/font_color = Color(1, 1, 1, 0.17254902)
text = "v1.8"

[connection signal="pressed" from="Main/HBoxContainer/VBoxContainer/play" to="." method="_on_play_pressed"]
[connection signal="pressed" from="Main/HBoxContainer/VBoxContainer/settings" to="." method="_on_settings_pressed"]
[connection signal="pressed" from="Main/HBoxContainer/VBoxContainer/cred" to="." method="_on_cred_pressed"]
[connection signal="pressed" from="Main/HBoxContainer/VBoxContainer/exit" to="." method="_on_exit_pressed"]
[connection signal="pressed" from="Settings/RichTextLabel/CenterContainer/exit" to="." method="back"]
[connection signal="pressed" from="Creds/Label/CenterContainer/exit" to="." method="back"]
[connection signal="pressed" from="Touch/VBoxContainer/yes" to="." method="_on_yes_pressed"]
[connection signal="pressed" from="Touch/VBoxContainer/no" to="." method="_on_no_pressed"]

[editable path="Settings"]
